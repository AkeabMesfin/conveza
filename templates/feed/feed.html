{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="{% static 'css/feed/feed2.css' %}" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Conveza-Feeds</title>
  </head>
  <body>
    <div class="nav-bar">
      <a href="{% url 'feed' %}" class="nav-icon active">
        <div class="default">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z"
            />
          </svg>
        </div>

        <div class="selected">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M160-186.67v-380q0-15.83 7.08-30 7.09-14.16 19.59-23.33L440-810q17.45-13.33 39.89-13.33T520-810l253.33 190q12.5 9.17 19.59 23.33 7.08 14.17 7.08 30v380q0 27.5-19.58 47.09Q760.83-120 733.33-120h-140q-14.16 0-23.75-9.58-9.58-9.59-9.58-23.75v-213.34q0-14.16-9.58-23.75-9.59-9.58-23.75-9.58h-93.34q-14.16 0-23.75 9.58-9.58 9.59-9.58 23.75v213.34q0 14.16-9.58 23.75-9.59 9.58-23.75 9.58h-140q-27.5 0-47.09-19.58Q160-159.17 160-186.67Z"
            />
          </svg>

          <p>Home</p>
        </div>
      </a>
      <a href="/chat" class="nav-icon">
        <div class="default">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M846.89-127.33q-6.22 0-12.22-2.34-6-2.33-11.34-7.66L720.67-240h-414q-27.5 0-47.09-19.58Q240-279.17 240-306.67v-66.66h440q27.5 0 47.08-19.59 19.59-19.58 19.59-47.08v-280h66.66q27.5 0 47.09 19.58Q880-680.83 880-653.33V-161q0 15.33-10.33 24.5-10.34 9.17-22.78 9.17ZM146.67-441l65.66-65.67h401v-306.66H146.67V-441Zm-33.56 114.33q-12.44 0-22.78-9.16Q80-345 80-360.33v-453q0-27.5 19.58-47.09Q119.17-880 146.67-880h466.66q27.5 0 47.09 19.58Q680-840.83 680-813.33v306.66q0 27.5-19.58 47.09Q640.83-440 613.33-440H240L136.67-336.67q-5.34 5.34-11.34 7.67t-12.22 2.33Zm33.56-180v-306.66 306.66Z"
            />
          </svg>
        </div>
        <div class="selected">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M846.67-127.33q-6 0-12-2.34-6-2.33-11.34-7.66L720.67-240h-414q-27.67 0-47.17-19.5T240-306.67v-66.66h440q27.67 0 47.17-19.5t19.5-47.17v-280h66.66q27.67 0 47.17 19.5t19.5 47.17V-161q0 15.33-10.33 24.5-10.34 9.17-23 9.17ZM113.33-326.67q-12.66 0-23-9.16Q80-345 80-360.33v-453Q80-841 99.5-860.5t47.17-19.5h466.66q27.67 0 47.17 19.5t19.5 47.17v306.66q0 27.67-19.5 47.17T613.33-440H240L136.67-336.67q-5.34 5.34-11.34 7.67t-12 2.33Z"
            />
          </svg>
          <p>Chat</p>
        </div>
      </a>
      <a class="nav-icon" onclick="openCreate()">
        <div class="default">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M448.67-444v130.67q0 14.16 9.61 23.75 9.62 9.58 23.84 9.58 14.21 0 23.71-9.58 9.5-9.59 9.5-23.75V-444h131.34q14.16 0 23.75-9.62 9.58-9.61 9.58-23.83 0-14.22-9.58-23.72-9.59-9.5-23.75-9.5H515.33v-136q0-14.16-9.61-23.75-9.62-9.58-23.84-9.58-14.21 0-23.71 9.58-9.5 9.59-9.5 23.75v136H313.33q-14.16 0-23.75 9.62-9.58 9.62-9.58 23.83 0 14.22 9.58 23.72 9.59 9.5 23.75 9.5h135.34Zm31.51 364q-82.83 0-155.67-31.5-72.84-31.5-127.18-85.83Q143-251.67 111.5-324.56T80-480.33q0-82.88 31.5-155.78Q143-709 197.33-763q54.34-54 127.23-85.5T480.33-880q82.88 0 155.78 31.5Q709-817 763-763t85.5 127Q880-563 880-480.18q0 82.83-31.5 155.67Q817-251.67 763-197.46q-54 54.21-127 85.84Q563-80 480.18-80Zm.15-66.67q139 0 236-97.33t97-236.33q0-139-96.87-236-96.88-97-236.46-97-138.67 0-236 96.87-97.33 96.88-97.33 236.46 0 138.67 97.33 236 97.33 97.33 236.33 97.33ZM480-480Z"
            />
          </svg>
        </div>

        <div class="selected">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M448.67-444v130.67q0 14.16 9.61 23.75 9.62 9.58 23.84 9.58 14.21 0 23.71-9.58 9.5-9.59 9.5-23.75V-444h131.34q14.16 0 23.75-9.62 9.58-9.61 9.58-23.83 0-14.22-9.58-23.72-9.59-9.5-23.75-9.5H515.33v-136q0-14.16-9.61-23.75-9.62-9.58-23.84-9.58-14.21 0-23.71 9.58-9.5 9.59-9.5 23.75v136H313.33q-14.16 0-23.75 9.62-9.58 9.62-9.58 23.83 0 14.22 9.58 23.72 9.59 9.5 23.75 9.5h135.34Zm31.51 364q-82.83 0-155.67-31.5-72.84-31.5-127.18-85.83Q143-251.67 111.5-324.56T80-480.33q0-82.88 31.5-155.78Q143-709 197.33-763q54.34-54 127.23-85.5T480.33-880q82.88 0 155.78 31.5Q709-817 763-763t85.5 127Q880-563 880-480.18q0 82.83-31.5 155.67Q817-251.67 763-197.46q-54 54.21-127 85.84Q563-80 480.18-80Z"
            />
          </svg>
          <p>Create</p>
        </div>
      </a>
      <a href="{% url 'search' %}" class="nav-icon">
        <div class="default">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M378.67-326q-108.44 0-183.56-75.17Q120-476.33 120-583.33t75.17-182.17q75.16-75.17 182.5-75.17 107.33 0 182.16 75.17 74.84 75.17 74.84 182.27 0 43.23-14 82.9-14 39.66-40.67 73l236 234.66q9.67 9.37 9.67 23.86 0 14.48-9.67 24.14-9.67 9.67-24.15 9.67-14.48 0-23.85-9.67L532.67-380q-30 25.33-69.64 39.67Q423.39-326 378.67-326Zm-.67-66.67q79.17 0 134.58-55.83Q568-504.33 568-583.33q0-79-55.42-134.84Q457.17-774 378-774q-79.72 0-135.53 55.83-55.8 55.84-55.8 134.84t55.8 134.83q55.81 55.83 135.53 55.83Z"
            />
          </svg>
        </div>
        <div class="selected">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="32px"
            viewBox="0 -960 960 960"
            width="32px"
            fill="var(--text)"
          >
            <path
              d="M378.67-326q-108.44 0-183.56-75.17Q120-476.33 120-583.33t75.17-182.17q75.16-75.17 182.5-75.17 107.33 0 182.16 75.17 74.84 75.17 74.84 182.27 0 43.23-14 82.9-14 39.66-40.67 73l236 234.66q9.67 9.37 9.67 23.86 0 14.48-9.67 24.14-9.67 9.67-24.15 9.67-14.48 0-23.85-9.67L532.67-380q-30 25.33-69.64 39.67Q423.39-326 378.67-326Zm-.67-66.67q79.17 0 134.58-55.83Q568-504.33 568-583.33q0-79-55.42-134.84Q457.17-774 378-774q-79.72 0-135.53 55.83-55.8 55.84-55.8 134.84t55.8 134.83q55.81 55.83 135.53 55.83Z"
            />
          </svg>

          <p>Search</p>
        </div>
      </a>
      <a href="{% url 'settings' %}" class="nav-icon">
        <div class="default">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            x="0px"
            y="0px"
            width="32px"
            height="32px"
            viewBox="0 0 48 48"
            fill="var(--text)"
          >
            <path
              d="M 24 4 C 22.423103 4 20.902664 4.1994284 19.451172 4.5371094 A 1.50015 1.50015 0 0 0 18.300781 5.8359375 L 17.982422 8.7382812 C 17.878304 9.6893592 17.328913 10.530853 16.5 11.009766 C 15.672739 11.487724 14.66862 11.540667 13.792969 11.15625 L 13.791016 11.15625 L 11.125 9.9824219 A 1.50015 1.50015 0 0 0 9.4257812 10.330078 C 7.3532865 12.539588 5.7626807 15.215064 4.859375 18.201172 A 1.50015 1.50015 0 0 0 5.4082031 19.845703 L 7.7734375 21.580078 C 8.5457929 22.147918 9 23.042801 9 24 C 9 24.95771 8.5458041 25.853342 7.7734375 26.419922 L 5.4082031 28.152344 A 1.50015 1.50015 0 0 0 4.859375 29.796875 C 5.7625845 32.782665 7.3519262 35.460112 9.4257812 37.669922 A 1.50015 1.50015 0 0 0 11.125 38.015625 L 13.791016 36.841797 C 14.667094 36.456509 15.672169 36.511947 16.5 36.990234 C 17.328913 37.469147 17.878304 38.310641 17.982422 39.261719 L 18.300781 42.164062 A 1.50015 1.50015 0 0 0 19.449219 43.460938 C 20.901371 43.799844 22.423103 44 24 44 C 25.576897 44 27.097336 43.800572 28.548828 43.462891 A 1.50015 1.50015 0 0 0 29.699219 42.164062 L 30.017578 39.261719 C 30.121696 38.310641 30.671087 37.469147 31.5 36.990234 C 32.327261 36.512276 33.33138 36.45738 34.207031 36.841797 L 36.875 38.015625 A 1.50015 1.50015 0 0 0 38.574219 37.669922 C 40.646713 35.460412 42.237319 32.782983 43.140625 29.796875 A 1.50015 1.50015 0 0 0 42.591797 28.152344 L 40.226562 26.419922 C 39.454197 25.853342 39 24.95771 39 24 C 39 23.04229 39.454197 22.146658 40.226562 21.580078 L 42.591797 19.847656 A 1.50015 1.50015 0 0 0 43.140625 18.203125 C 42.237319 15.217017 40.646713 12.539588 38.574219 10.330078 A 1.50015 1.50015 0 0 0 36.875 9.984375 L 34.207031 11.158203 C 33.33138 11.54262 32.327261 11.487724 31.5 11.009766 C 30.671087 10.530853 30.121696 9.6893592 30.017578 8.7382812 L 29.699219 5.8359375 A 1.50015 1.50015 0 0 0 28.550781 4.5390625 C 27.098629 4.2001555 25.576897 4 24 4 z M 24 7 C 24.974302 7 25.90992 7.1748796 26.847656 7.3398438 L 27.035156 9.0644531 C 27.243038 10.963375 28.346913 12.652335 30 13.607422 C 31.654169 14.563134 33.668094 14.673009 35.416016 13.904297 L 37.001953 13.207031 C 38.219788 14.669402 39.183985 16.321182 39.857422 18.130859 L 38.451172 19.162109 C 36.911538 20.291529 36 22.08971 36 24 C 36 25.91029 36.911538 27.708471 38.451172 28.837891 L 39.857422 29.869141 C 39.183985 31.678818 38.219788 33.330598 37.001953 34.792969 L 35.416016 34.095703 C 33.668094 33.326991 31.654169 33.436866 30 34.392578 C 28.346913 35.347665 27.243038 37.036625 27.035156 38.935547 L 26.847656 40.660156 C 25.910002 40.82466 24.973817 41 24 41 C 23.025698 41 22.09008 40.82512 21.152344 40.660156 L 20.964844 38.935547 C 20.756962 37.036625 19.653087 35.347665 18 34.392578 C 16.345831 33.436866 14.331906 33.326991 12.583984 34.095703 L 10.998047 34.792969 C 9.7799772 33.330806 8.8159425 31.678964 8.1425781 29.869141 L 9.5488281 28.837891 C 11.088462 27.708471 12 25.91029 12 24 C 12 22.08971 11.087719 20.290363 9.5488281 19.160156 L 8.1425781 18.128906 C 8.8163325 16.318532 9.7814501 14.667839 11 13.205078 L 12.583984 13.902344 C 14.331906 14.671056 16.345831 14.563134 18 13.607422 C 19.653087 12.652335 20.756962 10.963375 20.964844 9.0644531 L 21.152344 7.3398438 C 22.089998 7.1753403 23.026183 7 24 7 z M 24 16 C 19.599487 16 16 19.59949 16 24 C 16 28.40051 19.599487 32 24 32 C 28.400513 32 32 28.40051 32 24 C 32 19.59949 28.400513 16 24 16 z M 24 19 C 26.779194 19 29 21.220808 29 24 C 29 26.779192 26.779194 29 24 29 C 21.220806 29 19 26.779192 19 24 C 19 21.220808 21.220806 19 24 19 z"
            ></path>
          </svg>
        </div>

        <div class="selected">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            x="0px"
            y="0px"
            width="32px"
            height="32px"
            viewBox="0 0 48 48"
          >
            <path
              d="M39.139,26.282C38.426,25.759,38,24.919,38,24.034s0.426-1.725,1.138-2.247l3.294-2.415	c0.525-0.386,0.742-1.065,0.537-1.684c-0.848-2.548-2.189-4.872-3.987-6.909c-0.433-0.488-1.131-0.642-1.728-0.38l-3.709,1.631	c-0.808,0.356-1.749,0.305-2.516-0.138c-0.766-0.442-1.28-1.23-1.377-2.109l-0.446-4.072c-0.071-0.648-0.553-1.176-1.191-1.307	c-2.597-0.531-5.326-0.54-7.969-0.01c-0.642,0.129-1.125,0.657-1.196,1.308l-0.442,4.046c-0.097,0.88-0.611,1.668-1.379,2.11	c-0.766,0.442-1.704,0.495-2.515,0.138l-3.729-1.64c-0.592-0.262-1.292-0.11-1.725,0.377c-1.804,2.029-3.151,4.35-4.008,6.896	c-0.208,0.618,0.008,1.301,0.535,1.688l3.273,2.4C9.574,22.241,10,23.081,10,23.966s-0.426,1.725-1.138,2.247l-3.294,2.415	c-0.525,0.386-0.742,1.065-0.537,1.684c0.848,2.548,2.189,4.872,3.987,6.909c0.433,0.489,1.133,0.644,1.728,0.38l3.709-1.631	c0.808-0.356,1.748-0.305,2.516,0.138c0.766,0.442,1.28,1.23,1.377,2.109l0.446,4.072c0.071,0.648,0.553,1.176,1.191,1.307	C21.299,43.864,22.649,44,24,44c1.318,0,2.648-0.133,3.953-0.395c0.642-0.129,1.125-0.657,1.196-1.308l0.443-4.046	c0.097-0.88,0.611-1.668,1.379-2.11c0.766-0.441,1.705-0.493,2.515-0.138l3.729,1.64c0.594,0.263,1.292,0.111,1.725-0.377	c1.804-2.029,3.151-4.35,4.008-6.896c0.208-0.618-0.008-1.301-0.535-1.688L39.139,26.282z M24,31c-3.866,0-7-3.134-7-7s3.134-7,7-7	s7,3.134,7,7S27.866,31,24,31z"
            ></path>
          </svg>
        </div>
      </a>
    </div>

    <div class="content">
      <div class="header">
        <a class="current-user-profile" href="{% url 'my-profile' %}">
          {% if user.profile_picture %}
          <img src="{{ user.profile_picture.url }}" alt="Profile Picture" />
          {% else %}
          <img src="{% static 'images/blank-pp.png' %}" alt="profile picture" />

          {% endif %}
        </a>

        <h2>Feed</h2>

        <div class="search-bar">
          <a href="{% url 'search' %}">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="40px"
              viewBox="0 -960 960 960"
              width="40px"
              fill="var(--text-72)"
            >
              <path
                d="M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"
              />
            </svg>
          </a>
        </div>
      </div>

      <div class="post-con">
        {% for post in posts %}
        <div class="post">
          <div class="profile">
            <a class="picture" href="{%  url 'user-profile' post.user.id %}">
              {% if post.user.profile_picture %}
              <img
                src="{{ post.user.profile_picture.url }}"
                alt="Profile Picture"
              />
              {% else %}
              <img
                src="{% static 'images/blank-pp.png' %}"
                alt="profile picture"
              />

              {% endif %}
            </a>

            <div class="detail">
              <p>{{ post.user.full_name }}</p>
              <p>@{{ post.user.username }}</p>
            </div>
          </div>
          <div class="post-content">
            <p>{{ post.post_body }}</p>
          </div>
          <button type="button" class="see-more-btn">See More</button>
          <div class="post-img">
            {% if post.post_image %}
            <img src="{{ post.post_image.url }}" alt="Post Image" />
            {% endif %}
          </div>

          <div class="post-engagement">
            <div class="engagement-pair">
              <form
                action="{% url 'like' post.post_id %}"
                method="POST"
                class="like-form"
              >
                {% csrf_token %}
                <button type="submit" class="like">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    height="44px"
                    viewBox="0 -960 960 960"
                    width="44px"
                    fill="{% if user in post.post_likes.all %}red{% else %}var(--text-72){% endif %}"
                  >
                    <path
                      d="M480-142.33q-12 0-24.17-4.34Q443.67-151 434.67-160l-58.34-53.67q-118-109-207.16-210.5Q80-525.67 80-640q0-91.33 61.33-152.67 61.34-61.33 152-61.33Q345-854 394-830.17q49 23.84 86 74.17 40.33-50.33 87.33-74.17 47-23.83 99.34-23.83 90.66 0 152 61.33Q880-731.33 880-640q0 114.33-89 216T583.33-213.33l-58 53.33q-9 9-21.16 13.33-12.17 4.34-24.17 4.34Z"
                    />
                  </svg>
                  <p>{{ post.post_likes.count }}</p>
                </button>
              </form>

              <a href="{% url 'comments' post.post_id %}" class="comment">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="44px"
                  viewBox="0 -960 960 960"
                  width="44px"
                  fill="var(--text-72)"
                >
                  <path
                    d="M273.33-400h413.34q14.16 0 23.75-9.62 9.58-9.61 9.58-23.83 0-14.22-9.58-23.72-9.59-9.5-23.75-9.5H273.33q-14.16 0-23.75 9.62-9.58 9.62-9.58 23.83 0 14.22 9.58 23.72 9.59 9.5 23.75 9.5Zm0-126.67h413.34q14.16 0 23.75-9.61 9.58-9.62 9.58-23.84 0-14.21-9.58-23.71-9.59-9.5-23.75-9.5H273.33q-14.16 0-23.75 9.61-9.58 9.62-9.58 23.84 0 14.21 9.58 23.71 9.59 9.5 23.75 9.5Zm0-126.66h413.34q14.16 0 23.75-9.62 9.58-9.62 9.58-23.83 0-14.22-9.58-23.72-9.59-9.5-23.75-9.5H273.33q-14.16 0-23.75 9.62-9.58 9.61-9.58 23.83 0 14.22 9.58 23.72 9.59 9.5 23.75 9.5ZM146.67-240q-27 0-46.84-19.83Q80-279.67 80-306.67v-506.66q0-27 19.83-46.84Q119.67-880 146.67-880h666.66q27 0 46.84 19.83Q880-840.33 880-813.33v653q0 22.12-20.5 30.73-20.5 8.6-36.17-7.07L720-240H146.67Z"
                  />
                </svg>
                <p>{{ post.comment_count }}</p>
              </a>
            </div>

            <form
              action="{% url 'bookmark' post.post_id %}"
              method="POST"
              class="bookmark-form"
            >
              {% csrf_token %}
              <button type="submit" class="save">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="44px"
                  viewBox="0 -960 960 960"
                  width="44px"
                  fill="{% if user in post.post_bookmarks.all %}var(--accent){% else %}var(--text-72){% endif %}"
                >
                  <path
                    d="m480-240-186.67 80Q260-145.67 230-165.5T200-221v-555.67q0-27 19.83-46.83 19.84-19.83 46.84-19.83h426.66q27 0 46.84 19.83Q760-803.67 760-776.67V-221q0 35.67-30 55.5t-63.33 5.5L480-240Z"
                  />
                </svg>
                <p>{{ post.post_bookmarks.count }}</p>
                <!-- Show the bookmark count -->
              </button>
            </form>
          </div>
        </div>
        {% empty %}
        <p>No posts available.</p>
        {% endfor %}
      </div>
    </div>

    <dialog class="dialog">
      <div class="dialog-content">
        <a href="{% url 'create-post' %}" class="dialog-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="48px"
            viewBox="0 -960 960 960"
            width="48px"
            fill="var(--text-72)"
          >
            <path
              d="M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h333q15 0 22.5 9.32t7.5 20.5q0 11.18-7.68 20.68-7.69 9.5-22.32 9.5H180v600h600v-336q0-15 9.32-22.5t20.5-7.5q11.18 0 20.68 7.5T840-516v336q0 24-18 42t-42 18H180Zm300-360Zm-120 90v-115q0-12.44 5-23.72T378-548l364-364q9-9 20-13t22-4q11 0 22.32 4.5Q817.63-920 827-911l83 84q8.61 8.96 13.3 19.78 4.7 10.83 4.7 22.02 0 11.2-4.5 22.7T910-742L548-378q-8 8-19.28 13-11.28 5-23.72 5H390q-12.75 0-21.37-8.63Q360-377.25 360-390Zm508-395-84-84 84 84ZM420-420h85l253-253-43-42-43-42-252 251v86Zm295-295-43-42 43 42 43 42-43-42Z"
            />
          </svg>
        </a>
        <p>New Post</p>
      </div>

      <div class="dialog-content">
        <a href="{% url 'create-group' %}" class="dialog-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="56px"
            viewBox="0 -960 960 960"
            width="56px"
            fill="var(--text-72)"
          >
            <path
              d="M33.33-240q-14.16 0-23.75-9.58Q0-259.17 0-273.33v-23q0-40.05 42.33-65.19 42.34-25.15 111.25-25.15 12.45 0 23.93.5 11.49.5 22.49 2.27-10 18.57-15 38.11-5 19.55-5 40.79v65H33.33Zm240 0q-14.16 0-23.75-9.58-9.58-9.59-9.58-23.75V-305q0-32 17.5-58.5T307-410q32-20 76.5-30t96.5-10q53 0 97.5 10t76.5 30q32 20 49 46.5t17 58.5v31.67q0 14.16-9.58 23.75-9.59 9.58-23.75 9.58H273.33ZM780-240v-65q0-21.91-4.5-41.29t-14.17-37.56q11-1.82 22.28-2.32 11.29-.5 23.06-.5 69 0 111.16 24.68Q960-337.31 960-296.33v23q0 14.16-9.58 23.75-9.59 9.58-23.75 9.58H780Zm-471.67-66.67H652v-4q-3.33-31.33-52.17-52Q551-383.33 480-383.33t-119.83 20.66Q311.33-342 308.33-310v3.33ZM153.04-420q-30.04 0-51.54-21.54T80-493.33q0-30.67 21.54-52 21.54-21.34 51.79-21.34 30.67 0 52 21.34 21.34 21.33 21.34 52.29 0 30.04-21.34 51.54Q184-420 153.04-420Zm653.34 0q-30.05 0-51.55-21.54-21.5-21.54-21.5-51.79 0-30.67 21.55-52 21.54-21.34 51.79-21.34 30.66 0 52 21.34Q880-524 880-493.04q0 30.04-21.33 51.54-21.34 21.5-52.29 21.5ZM480-480q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm.23-66.67q22.77 0 37.94-15.4 15.16-15.4 15.16-38.16 0-22.77-15.26-37.94-15.27-15.16-37.84-15.16-22.56 0-38.06 15.26-15.5 15.27-15.5 37.84 0 22.56 15.4 38.06 15.4 15.5 38.16 15.5Zm.1 240ZM480-600Z"
            />
          </svg>
        </a>
        <p>Create New Group</p>
      </div>

      <button type="button" onclick="closeDialog()">Close</button>
    </dialog>
  </body>

  <script src="{% static 'js/feed/feed.js' %}"></script>
  <script src="{% static 'js/theme.js' %}"></script>
  <script src="{% static 'js/create-popUp.js' %}"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script>
    $(document).ready(function () {
      // Handle Like Button Click
      $(document).on("submit", ".like-form", function (event) {
        event.preventDefault();
        var form = $(this);
        var likeButton = form.find("svg"); // Select the SVG inside the button
        var likeCount = form.find("p"); // Select the like count text

        // Toggle the color instantly
        if (likeButton.attr("fill") === "red") {
          likeButton.attr("fill", "var(--text-72)"); // Unliked state
        } else {
          likeButton.attr("fill", "red"); // Liked state
        }

        // Send the AJAX request
        $.ajax({
          type: "POST",
          url: form.attr("action"),
          data: form.serialize(),
          success: function (response) {
            // Update the like count from the server response
            likeCount.text(response.likes);
          },
          error: function () {
            // Revert the color change on error
            if (likeButton.attr("fill") === "red") {
              likeButton.attr("fill", "var(--text-72)");
            } else {
              likeButton.attr("fill", "red");
            }
            alert("An error occurred while liking the post.");
          },
        });
      });
    });

    $(document).ready(function () {
      $(document).on("submit", ".bookmark-form", function (event) {
        event.preventDefault();
        var form = $(this);
        var bookmarkButton = form.find("svg"); // Select the SVG inside the button
        var bookmarkCount = form.find("p"); // Select the bookmark count text

        // Toggle the color instantly
        if (bookmarkButton.attr("fill") === "var(--accent)") {
          bookmarkButton.attr("fill", "var(--text-72)"); // Unbookmarked state
        } else {
          bookmarkButton.attr("fill", "var(--accent)"); // Bookmarked state
        }

        // Send the AJAX request
        $.ajax({
          type: "POST",
          url: form.attr("action"),
          data: form.serialize(),
          success: function (response) {
            // Update the bookmark count from the server response
            bookmarkCount.text(response.bookmarks);
          },
          error: function () {
            // Revert the color change on error
            if (bookmarkButton.attr("fill") === "var(--accent)") {
              bookmarkButton.attr("fill", "var(--text-72)");
            } else {
              bookmarkButton.attr("fill", "var(--accent)");
            }
            alert("An error occurred while saving the post.");
          },
        });
      });
    });
  </script>
</html>
